# Послідовність того, що робив

## Перший етап 06-06-2024

1. Створюємо папку `public`
2. В цій папці буде папка `assets` в ній будуть лежати стилі
3. Далі в папці `public` розташовуємо файли
   1. `index.tpl.php` - цей файл буде слугувати для відображення видів від логіки
   2. `index.php` - в цьому файлі буде сама логіка
   3. Слід звернути увагу, які лінки ми використовуємо. Тобто, якщо нам потрібно зробити перехід з файлу по навігації. то в тегові `<a href="about.php">About</a>` має бути посилання на файл `about.php` - який по суті в нас і являється контролером, а не на файл `about.tpl.php`. Бо це буде викликати таку складність, що змінні з файлу `about.php`, не будуть потрапляти у вид файлу `about.tpl.php`

## Другий етап 06-06-2024

1. Створив папки `app`, `core`
   1. В папці `app` поки папка `views` в ній ще папка `components` це мені потрібно, щоб зробити більш кращу структуру проекту Доброго ранку, будуть лежати ті частини які частіше всього повторюються. в моєму випадку, це файл `header.php`, `footer.php`, `sidebar.php` - які я потім буду підключати у їх відповідних видах
   2. В папці `core` в мене поки тільки файл `constatnts.php` - тут константи до мого проекту які будуть полегшувати різного роду підключення папок, та файлів
2. Ініціював файл `composer.json`
   1. Та поки інсталював `larapack/dd` для більш зручної відладки проекту

## Третій етап 06-06-2024

1. Створив папку `controllers`, куди перемістив наші перші два контролери `index.php`, `about.php`
2. Ми створюємо фронт конт контроллер. Тут суть в тому, щоб створити файл `.htaccess` яки буде приймати запит і відправляти його у папку `public/index.php`. І в цій же папці `public`, має бути файл `.htaccess`, який цей запит обробить

## Четвертий етап 07-06-2024

1. Ми зробили протенький роутінг у файлі `index.php`, ми додали таку строку `$uri = trim(parse_url($_SERVER['REQUEST_URI'])['path'], '/');`, де:
   1. `trim` - по бокам буде обрізати якщо є `\`
   2. `parse_url` - функція, яка розбиває наш URL на `scheme`, `host`, `path`,`query`. В нашогму випадку, ми будемо вивкорристовувати `path`, що отримувати доступ до певної сторінки
      1. `scheme` - https
      2. `host` - це доменне імя нашого сайту
      3. `path` - це шлях на певну сторінку, який ми і будемо використовувати для роутінгу
      4. `query` - GET параметри, для отримання доступу для певних постів, товарів, пошуку, фільтрів тощо.
   3. `$_SERVER['REQUEST_URI']` - містить URI (Uniform Resource Identifier) поточного запиту. Вона використовується для отримання повного шляху до сторінки, включаючи параметри запиту.
2. Зробили у файлі `func.php` функцію `aboard` яку будемо використовувати, щоб редіректити користувачів на сторінку з помилкою, якщо запитуваної стоірнки не існує
3. Поправили файлик `.htaccess` а саме поле `RewriteRule (.*) index.php?$1 [L,QSA]`, додали `[L,QSA]`, якщо простими словами, то це дозволить нам, не втрачати `GET` параметри, які ми отримуємо з URL строки і потім вже коректно з ними працювати
   1. `[L,QSA]`: Це прапори, які змінюють поведінку правила: 1. `L (Last)`: Вказує, що це останнє правило, яке потрібно виконати. Після нього більше ніякі правила не обробляються. 2. `QSA (Query String Append)`: Вказує, що до кінцевого URL потрібно додати вихідний рядок запиту (query string).
      [Приклад того, як це буде виглядати якщо задампити наш GET запит](https://i.imgur.com/ExgIC6w.png) - тобто ми будемо конкретно бачити, який `ID` прийшов в `GET` запиті

## П'ятий етап 07-06-2024

1. Зробив невелику перестановку файлів
2. Зробив окремий файл в `config/routes.php` - який в нам буде відповідати за карту маршрутів
3. Створив окремий файл `core/router.php` - яка буде оброблювати наші роути. Виніс через ту причину, що наш файл, який є точкою входу `index.php` має бути максимально тонким
4. Підготував базу даних `blog`, з таблицею `posts` [Приклад таблиці](https://i.imgur.com/9VsLXXe.png)
